{"ast":null,"code":"import { useState, useEffect } from \"react\";\nimport { projectFireStore } from \"../firebase/config\";\n\nconst UseFirestore = collection => {\n  const [docs, setDocs] = useState([]);\n  useEffect(() => {\n    const unsub = projectFireStore.collection(collection).orderBy('createdAt', 'desc').onSnapshot(snap => {\n      let documents = [];\n      snap.forEach(doc => {\n        documents.push({ ...doc.data(),\n          id: doc.id\n        });\n      });\n      setDocs(documents);\n    });\n    return () => unsub();\n  }, [collection]);\n  return {\n    docs\n  };\n};\n\nexport default UseFirestore;","map":{"version":3,"sources":["C:/Users/katia/OneDrive/Área de Trabalho/firegram/src/hooks/useFirestore.js"],"names":["useState","useEffect","projectFireStore","UseFirestore","collection","docs","setDocs","unsub","orderBy","onSnapshot","snap","documents","forEach","doc","push","data","id"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,gBAAT,QAAgC,oBAAhC;;AAEA,MAAMC,YAAY,GAAIC,UAAD,IAAgB;AACjC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAAC,EAAD,CAAhC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMM,KAAK,GAAGL,gBAAgB,CAACE,UAAjB,CAA4BA,UAA5B,EACTI,OADS,CACD,WADC,EACY,MADZ,EAETC,UAFS,CAEGC,IAAD,IAAS;AACjB,UAAIC,SAAS,GAAG,EAAhB;AACAD,MAAAA,IAAI,CAACE,OAAL,CAAaC,GAAG,IAAI;AAChBF,QAAAA,SAAS,CAACG,IAAV,CAAe,EAAC,GAAGD,GAAG,CAACE,IAAJ,EAAJ;AAAgBC,UAAAA,EAAE,EAAEH,GAAG,CAACG;AAAxB,SAAf;AACH,OAFD;AAGAV,MAAAA,OAAO,CAACK,SAAD,CAAP;AACH,KARS,CAAd;AAUI,WAAO,MAAMJ,KAAK,EAAlB;AAEP,GAbQ,EAaN,CAACH,UAAD,CAbM,CAAT;AAeA,SAAO;AAAEC,IAAAA;AAAF,GAAP;AACH,CAnBD;;AAqBA,eAAeF,YAAf","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { projectFireStore} from \"../firebase/config\";\r\n\r\nconst UseFirestore = (collection) => {\r\n    const [docs, setDocs] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const unsub = projectFireStore.collection(collection)\r\n            .orderBy('createdAt', 'desc')\r\n            .onSnapshot((snap) =>{\r\n                let documents = [];\r\n                snap.forEach(doc => {\r\n                    documents.push({...doc.data(), id: doc.id})\r\n                });\r\n                setDocs(documents);\r\n            });\r\n\r\n            return () => unsub();\r\n\r\n    }, [collection])\r\n\r\n    return { docs };\r\n}\r\n\r\nexport default UseFirestore;"]},"metadata":{},"sourceType":"module"}