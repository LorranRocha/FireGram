{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\katia\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\firegram\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\katia\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\firegram\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import{projectFireStore}from\"../firebase/config\";var UseFirestore=function UseFirestore(collection){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),docs=_useState2[0],setDocs=_useState2[1];useEffect(function(){var unsub=projectFireStore.collection(collection).orderBy('createdAt','desc').onSnapshot(function(snap){var documents=[];snap.forEach(function(doc){documents.push(_objectSpread(_objectSpread({},doc.data()),{},{id:doc.id}));});setDocs(documents);});return function(){return unsub();};},[collection]);return{docs:docs};};export default UseFirestore;","map":{"version":3,"sources":["C:/Users/katia/OneDrive/Área de Trabalho/firegram/src/hooks/useFirestore.js"],"names":["useState","useEffect","projectFireStore","UseFirestore","collection","docs","setDocs","unsub","orderBy","onSnapshot","snap","documents","forEach","doc","push","data","id"],"mappings":"yWAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,gBAAT,KAAgC,oBAAhC,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,UAAD,CAAgB,eACTJ,QAAQ,CAAC,EAAD,CADC,wCAC1BK,IAD0B,eACpBC,OADoB,eAGjCL,SAAS,CAAC,UAAM,CACZ,GAAMM,CAAAA,KAAK,CAAGL,gBAAgB,CAACE,UAAjB,CAA4BA,UAA5B,EACTI,OADS,CACD,WADC,CACY,MADZ,EAETC,UAFS,CAEE,SAACC,IAAD,CAAS,CACjB,GAAIC,CAAAA,SAAS,CAAG,EAAhB,CACAD,IAAI,CAACE,OAAL,CAAa,SAAAC,GAAG,CAAI,CAChBF,SAAS,CAACG,IAAV,gCAAmBD,GAAG,CAACE,IAAJ,EAAnB,MAA+BC,EAAE,CAAEH,GAAG,CAACG,EAAvC,IACH,CAFD,EAGAV,OAAO,CAACK,SAAD,CAAP,CACH,CARS,CAAd,CAUI,MAAO,kBAAMJ,CAAAA,KAAK,EAAX,EAAP,CAEP,CAbQ,CAaN,CAACH,UAAD,CAbM,CAAT,CAeA,MAAO,CAAEC,IAAI,CAAJA,IAAF,CAAP,CACH,CAnBD,CAqBA,cAAeF,CAAAA,YAAf","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { projectFireStore} from \"../firebase/config\";\r\n\r\nconst UseFirestore = (collection) => {\r\n    const [docs, setDocs] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const unsub = projectFireStore.collection(collection)\r\n            .orderBy('createdAt', 'desc')\r\n            .onSnapshot((snap) =>{\r\n                let documents = [];\r\n                snap.forEach(doc => {\r\n                    documents.push({...doc.data(), id: doc.id})\r\n                });\r\n                setDocs(documents);\r\n            });\r\n\r\n            return () => unsub();\r\n\r\n    }, [collection])\r\n\r\n    return { docs };\r\n}\r\n\r\nexport default UseFirestore;"]},"metadata":{},"sourceType":"module"}